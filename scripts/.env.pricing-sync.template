# =====================================================
# Customer Pricing Sync Configuration Template
# =====================================================
# Copy these lines to order-portal-web/.env.local
# Replace placeholder values with actual credentials
# =====================================================

# SQL Server Connection (PeopleSoft)
# -----------------------------------------------------
# Contact IT/Database team for these credentials
# Request READ-ONLY access to FS92STG database

SQL_SERVER_HOST=your-sql-server.amazonaws.com
SQL_SERVER_PORT=1433
SQL_SERVER_DATABASE=FS92STG
SQL_SERVER_USER=readonly_user
SQL_SERVER_PASSWORD=your_secure_password_here

# Sync Configuration
# -----------------------------------------------------
# Adjust these values based on testing and performance

# Number of records to process in each batch (500 is safe for 10K records)
SYNC_BATCH_SIZE=500

# Maximum time for entire sync operation (5 minutes = 300000ms)
SYNC_TIMEOUT_MS=300000

# Optional: HTTP API Endpoint Configuration
# -----------------------------------------------------
# Only needed if using sync-server.js with HTTP endpoint

# Generate a secure random API key (e.g., openssl rand -hex 32)
SYNC_API_KEY=generate_a_secure_random_key_here

# Port for sync server to listen on
SYNC_SERVER_PORT=3000

# =====================================================
# Network Access Notes
# =====================================================
#
# Ensure the machine running the sync script can access:
# 1. SQL Server (FS92STG) - usually requires VPN or EC2 instance in same VPC
# 2. Supabase PostgreSQL - internet access required
#
# Firewall rules needed:
# - Outbound: Port 1433 to SQL Server
# - Outbound: Port 5432 to Supabase (aws-1-us-west-1.pooler.supabase.com)
# - Inbound: Port 3000 (only if using HTTP endpoint and N8N needs to reach it)
#
# =====================================================
# Testing Steps After Configuration
# =====================================================
#
# 1. Verify database setup:
#    node verify-pricing-sync-setup.js
#
# 2. Install SQL Server driver:
#    npm install mssql
#
# 3. Test SQL Server connection:
#    Use Azure Data Studio or DBeaver to connect manually first
#
# 4. Run manual sync test:
#    node run-pricing-sync.js
#
# 5. Check results in database:
#    SELECT * FROM pricing_sync_log ORDER BY sync_started_at DESC LIMIT 1;
#    SELECT COUNT(*) FROM customer_pricing_sync;
#
# 6. If successful, set up N8N workflow for automation
#
# =====================================================
